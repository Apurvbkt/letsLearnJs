<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    search city: <input type="text" id="input" />
    <button id="btn">search</button>

    <div class="mapouter"></div>

    
    
   
      
    </div>
  </body>
</html>
<script>
   //https://api.openweathermap.org/data/2.5/weather?q=jamshedpur&appid=2fbda5d5c943454fde5858fe70172b96
  document.querySelector('#btn').addEventListener('click', weather)
  let city = document.querySelector('#input')


  async function weather(){
    let name = city.value
       let url =`https://api.openweathermap.org/data/2.5/weather?q=${name}&appid=2fbda5d5c943454fde5858fe70172b96&units=metric`

       try {

           let res =  await fetch(url)
           let data = await res.json()
           console.log(data.name,  'temp' + data.main.temp);
           console.log(data.main.temp);
            map()


       } catch (error) {

       }
   }


   function map(){
    let name = city.value
    let div = document.querySelector('.mapouter')
    div.innerHTML = `
        <iframe
          width="600"
          height="500"
          id="gmap_canvas"
          src="https://maps.google.com/maps?q=${name}&t=&z=13&ie=UTF8&iwloc=&output=embed"
          frameborder="0"
          scrolling="no"
          marginheight="0"
          marginwidth="0"
        ></iframe
        >
      `

   }
   // weather()
</script>
